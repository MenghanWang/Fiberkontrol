from pylab import *
import matplotlib.pyplot as plt
import numpy as np
import os
import sys


class PlotLine():
    
    def __init__(self, filename):
        self.filename = filename

    def get_coords(self, numClicks):
        print 'hello'
        a = self.plot.ginput(n=1, timeout=10, show_clicks=True,
               mouse_add=1)
        print a
        return a


    def make_plot(self):
        print "make_plot"
        a = np.load(self.filename)['x']

        dataA = a.tolist()[0][2]
        if dataA.count([]) > 0:
            dataA.remove([])

        length = int(len(dataA))

        x = np.linspace(0, length, length)
        y = dataA[:length]


        self.plot = plt.plot(x, y)

    def make_new_plot(self, coords):
        x1 = coords[0][0]
        y1 = coords[0][1]

        print x1


if __name__=="__main__":
    file = sys.argv[1]
    filename = '/Users/kellyz/Documents/Code/python/Fiberkontrol/code/' + file

    plot = PlotLine(filename)
    plot.make_plot()
    coords = ginput(3)

    plot.make_new_plot(coords)

    print "clicked",coords
    show()
